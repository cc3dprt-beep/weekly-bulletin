<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Haftalık Vedik Astroloji Bülteni Oluşturucu</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        .retrograde {
            color: #f59e0b; /* amber-500 */
            font-weight: bold;
        }
        #bulletin-content h2 {
            font-size: 1.25rem;
            font-weight: 700;
            margin-top: 1.5rem;
            margin-bottom: 0.75rem;
            border-bottom: 2px solid #e5e7eb;
            padding-bottom: 0.5rem;
        }
        #bulletin-content h3 {
            font-size: 1.1rem;
            font-weight: 600;
            margin-top: 1rem;
            margin-bottom: 0.5rem;
        }
        #bulletin-content p, #bulletin-content div {
            line-height: 1.6;
        }
        .notice-box {
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0.5rem;
            border-left-width: 4px;
        }
        .notice-info {
            background-color: #eff6ff; /* blue-50 */
            border-color: #3b82f6; /* blue-500 */
            color: #1e40af; /* blue-800 */
        }
        .notice-success {
            background-color: #f0fdf4; /* green-50 */
            border-color: #22c55e; /* green-500 */
            color: #15803d; /* green-700 */
        }
        .notice-warning {
            background-color: #fffbeb; /* amber-50 */
            border-color: #f59e0b; /* amber-500 */
            color: #b45309; /* amber-700 */
        }
        .notice-danger {
            background-color: #fef2f2; /* red-50 */
            border-color: #ef4444; /* red-500 */
            color: #b91c1c; /* red-700 */
        }
        .supported-action { color: #16a34a; } /* green-600 */
        .caution-action { color: #dc2626; } /* red-600 */
    </style>
</head>
<body class="bg-gray-100 text-gray-800 p-4 md:p-8">

    <div class="max-w-4xl mx-auto"> <!-- Max width daraltıldı -->
        <!-- KONTROL PANELİ -->
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-gray-900 mb-4">Haftalık Vedik Astroloji Bülteni Oluşturucu</h1>
            <div class="flex flex-col sm:flex-row items-center justify-center gap-4 bg-white p-4 rounded-lg shadow-lg">
                <select id="week-selector" class="bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full sm:w-auto p-2.5">
                    <!-- Haftalar buraya eklenecek -->
                </select>
                <p class="text-sm text-gray-600">
                    Tüm hesaplamalar <strong>Istanbul, 00:00 (UTC+3)</strong> saat dilimine göre yapılmaktadır.
                </p>
            </div>
        </header>

        <!-- ANA İÇERİK ALANI -->
        <main class="grid grid-cols-1 gap-8"> <!-- Tek sütunlu layout -->

            <!-- SOL SÜTUN: GÜNLÜK VERİLER (Gizlendi) -->
            <div id="daily-data" class="space-y-6 hidden">
                <!-- Günlük kartlar buraya eklenecek -->
            </div>

            <!-- SAĞ SÜTUN: E-BÜLTEN (Artık Ana İçerik) -->
            <div>
                <!-- Butonlar sticky değil, normal akışta -->
                <div class="flex justify-end gap-2 mb-4">
                     <!-- Panoya Kopyala butonu kaldırıldı -->
                    <button id="pdf-btn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded-lg transition-colors">PDF Olarak İndir</button>
                </div>
                <div id="bulletin-wrapper" class="bg-gray-50 text-gray-800 p-6 rounded-lg shadow-lg"> <!-- max-h ve overflow kaldırıldı -->
                    <div id="bulletin-content">
                        <!-- Bülten içeriği buraya eklenecek -->
                    </div>
                </div>
            </div>
        </main>
    </div>

<script type="text/javascript">

// --- VERİ KAYNAKLARI ---
// ephemeri.txt içeriği doğrudan değişkene atandı.
const ephemeriFileContent = `
Longitude -32:51:00Latitude 39:55:00Timezone -03:00:00DST 00:00:00
GMT,ST,Longitude Su,Speed Su,Longitude Mo,Speed Mo,Longitude2 Mo,Speed2 Mo,Longitude Ma,Speed Ma,Longitude Me,Speed Me,Longitude Ju,Speed Ju,Longitude Ve,Speed Ve,Longitude Sa,Speed Sa,Longitude Ra,Speed Ra,Longitude Ke,Speed Ke,Longitude Ur,Speed Ur,Longitude Ne,Speed Ne,Longitude Pl,Speed Pl,Moon rise :,Time,Longitude ,Ayanamsha
13-10-25,22.26448,5 25:34:14,00:59:23,2 14:14:06,13:59:18,2 21:10:51,13:47:42,6 19:48:13,00:41:35,6 14:50:49,01:25:27,2 29:31:11,00:05:31,5 04:31:32,01:14:24,11 02:40:54,-00:04:05,10 23:41:52,-00:01:14,4 23:41:52,-00:01:14,1 06:42:10,-00:01:42,11 06:00:59,-00:01:32,9 07:08:58,-00:00:02,12-10-25  22:31:01,2 13:22:12,-24:13:05
14-10-25,22.30414,5 26:33:38,00:59:25,2 28:01:49,13:36:15,3 04:47:10,13:25:11,6 20:29:50,00:41:39,6 16:15:50,01:24:35,2 29:36:37,00:05:21,5 05:45:57,01:14:27,11 02:36:50,-00:04:02,10 23:41:20,00:00:09,4 23:41:20,00:00:09,1 06:40:26,-00:01:44,11 05:59:27,-00:01:32,9 07:08:56,-00:00:00,13-10-25  23:35:36,2 27:47:59,-24:13:05
15-10-25,22.34379,5 27:33:04,00:59:27,3 11:27:05,13:14:37,3 18:01:53,13:04:42,6 21:11:31,00:41:43,6 17:39:57,01:23:41,2 29:41:53,00:05:11,5 07:00:25,01:14:29,11 02:32:50,-00:03:59,10 23:42:03,00:01:12,4 23:42:03,00:01:12,1 06:38:41,-00:01:46,11 05:57:56,-00:01:31,9 07:08:56,00:00:01,15-10-25  00:41:32,3 11:50:00,-24:13:05
16-10-25,22.38345,5 28:32:32,00:59:30,3 24:31:54,12:55:30,4 00:57:30,12:47:02,6 21:53:15,00:41:47,6 19:03:10,01:22:45,2 29:46:59,00:05:01,5 08:14:55,01:14:31,11 02:28:53,-00:03:55,10 23:43:32,00:01:40,4 23:43:32,00:01:40,1 06:36:53,-00:01:49,11 05:56:25,-00:01:30,9 07:08:58,00:00:03,16-10-25  01:46:45,3 25:29:21,-24:13:06
17-10-25,22.42310,5 29:32:03,00:59:32,4 07:19:04,12:39:19,4 13:36:57,12:32:21,6 22:35:04,00:41:51,6 20:25:26,01:21:46,2 29:51:55,00:04:51,5 09:29:28,01:14:34,11 02:25:00,-00:03:52,10 23:45:08,00:01:25,4 23:45:08,00:01:25,1 06:35:04,-00:01:51,11 05:54:55,-00:01:29,9 07:09:02,00:00:05,17-10-25  02:50:12,4 08:48:43,-24:13:06
18-10-25,22.46276,6 00:31:36,00:59:34,4 19:51:32,12:26:05,4 26:03:08,12:20:28,6 23:16:56,00:41:54,6 21:46:41,01:20:45,2 29:56:41,00:04:41,5 10:44:02,01:14:36,11 02:21:10,-00:03:48,10 23:46:07,00:00:26,4 23:46:07,00:00:26,1 06:33:12,-00:01:53,11 05:53:26,-00:01:29,9 07:09:07,00:00:06,18-10-25  03:51:47,4 21:51:28,-24:13:06
19-10-25,22.50241,6 01:31:11,00:59:36,5 02:12:06,12:15:29,5 08:18:43,12:11:03,6 23:58:52,00:41:58,6 23:06:54,01:19:40,3 00:01:16,00:04:30,5 11:58:39,01:14:38,11 02:17:24,-00:03:44,10 23:45:49,-00:01:08,4 23:45:49,-00:01:08,1 06:31:18,-00:01:55,11 05:51:58,-00:01:28,9 07:09:15,00:00:08,18-10-25  03:51:47,4 21:51:28,-24:13:06
20-10-25,22.54207,6 02:30:48,00:59:38,5 14:23:15,12:07:08,5 20:25:56,12:03:40,6 24:40:53,00:42:02,6 24:26:00,01:18:31,3 00:05:41,00:04:20,5 13:13:18,01:14:40,11 02:13:41,-00:03:40,10 23:43:43,-00:03:05,4 23:43:43,-00:03:05,1 06:29:22,-00:01:57,11 05:50:31,-00:01:27,9 07:09:23,00:00:10,19-10-25  04:51:54,5 04:41:00,-24:13:06
21-10-25,22.58172,6 03:30:27,00:59:40,5 26:26:59,12:00:38,6 02:26:38,11:58:00,6 25:22:56,00:42:06,6 25:43:54,01:17:17,3 00:09:55,00:04:09,5 14:27:59,01:14:42,11 02:10:03,-00:03:36,10 23:39:37,-00:05:06,4 23:39:37,-00:05:06,1 06:27:24,-00:01:59,11 05:49:04,-00:01:26,9 07:09:34,00:00:12,20-10-25  05:51:08,5 17:20:20,-24:13:06
22-10-25,23.02138,6 04:30:08,00:59:42,6 08:25:03,11:55:45,6 14:22:27,11:53:53,6 26:05:04,00:42:09,6 27:00:32,01:15:58,3 00:13:58,00:03:58,5 15:42:42,01:14:44,11 02:06:29,-00:03:32,10 23:33:35,-00:06:54,4 23:33:35,-00:06:54,1 06:25:24,-00:02:01,11 05:47:39,-00:01:25,9 07:09:46,00:00:13,21-10-25  06:50:02,5 29:51:58,-24:13:06
23-10-25,23.06103,6 05:29:52,00:59:44,6 20:19:00,11:52:24,6 26:14:55,11:51:20,6 26:47:15,00:42:13,6 28:15:48,01:14:32,3 00:17:51,00:03:48,5 16:57:27,01:14:46,11 02:02:59,-00:03:28,10 23:26:00,-00:08:09,4 23:26:00,-00:08:09,1 06:23:22,-00:02:03,11 05:46:15,-00:01:23,9 07:10:01,00:00:15,22-10-25  07:48:53,6 12:17:54,-24:13:06
24-10-25,23.10069,6 06:29:37,00:59:46,7 02:10:24,11:50:44,7 08:05:44,11:50:38,6 27:29:30,00:42:17,6 29:29:34,01:12:59,3 00:21:33,00:03:37,5 18:12:14,01:14:48,11 01:59:34,-00:03:23,10 23:17:32,-00:08:40,4 23:17:32,-00:08:40,1 06:21:18,-00:02:04,11 05:44:52,-00:01:22,9 07:10:16,00:00:17,23-10-25  08:47:38,6 24:39:52,-24:13:06
25-10-25,23.14034,6 07:29:24,00:59:48,7 14:01:08,11:51:07,7 19:56:57,11:52:14,6 28:11:49,00:42:21,7 00:41:43,01:11:18,3 00:25:04,00:03:26,5 19:27:02,01:14:49,11 01:56:13,-00:03:19,10 23:08:57,-00:08:21,4 23:08:57,-00:08:21,1 06:19:13,-00:02:06,11 05:43:30,-00:01:21,9 07:10:34,00:00:19,24-10-25  09:45:43,7 06:59:27,-24:13:06
26-10-25,23.18000,6 08:29:13,00:59:50,7 25:53:29,11:54:03,8 01:51:07,11:56:40,6 28:54:11,00:42:24,7 01:52:06,01:09:26,3 00:28:24,00:03:15,5 20:41:52,01:14:51,11 01:52:56,-00:03:14,10 23:01:06,-00:07:13,4 23:01:06,-00:07:13,1 06:17:06,-00:02:08,11 05:42:10,-00:01:20,9 07:10:53,00:00:20,25-10-25  10:42:06,7 19:18:25,-24:13:06
27-10-25,23.21566,6 09:29:03,00:59:52,8 07:50:17,12:00:08,8 13:51:25,12:04:34,6 29:36:37,00:42:28,7 03:00:31,01:07:24,3 00:31:33,00:03:04,5 21:56:43,01:14:52,11 01:49:45,-00:03:09,10 22:54:42,-00:05:28,4 22:54:42,-00:05:28,1 06:14:57,-00:02:09,11 05:40:50,-00:01:19,9 07:11:14,00:00:22,26-10-25  11:35:28,8 01:38:55,-24:13:07
28-10-25,23.25531,6 10:28:56,00:59:53,8 19:55:00,12:09:59,8 26:01:35,12:16:29,7 00:19:07,00:42:32,7 04:06:48,01:05:08,3 00:34:31,00:02:52,5 23:11:36,01:14:54,11 01:46:38,-00:03:04,10 22:50:16,-00:03:23,4 22:50:16,-00:03:23,1 06:12:47,-00:02:11,11 05:39:32,-00:01:17,9 07:11:37,00:00:24,27-10-25  12:24:38,8 14:03:49,-24:13:07
29-10-25,23.29497,6 11:28:50,00:59:55,9 02:11:41,12:24:06,9 08:25:52,12:32:51,7 01:01:40,00:42:35,7 05:10:43,01:02:39,3 00:37:18,00:02:41,5 24:26:31,01:14:55,11 01:43:35,-00:02:59,10 22:47:55,-00:01:20,4 22:47:55,-00:01:20,1 06:10:35,-00:02:12,11 05:38:15,-00:01:16,9 07:12:02,00:00:26,28-10-25  13:08:57,8 26:36:51,-24:13:07
30-10-25,23.33462,6 12:28:45,00:59:57,9 14:44:43,12:42:44,9 21:08:47,12:53:44,7 01:44:16,00:42:39,7 06:12:00,00:59:53,3 00:39:53,00:02:30,5 25:41:26,01:14:57,11 01:40:38,-00:02:54,10 22:47:26,00:00:16,4 22:47:26,00:00:16,1 06:08:21,-00:02:14,11 05:37:00,-00:01:15,9 07:12:28,00:00:27,29-10-25  13:48:27,9 09:22:37,-24:13:07
31-10-25,23.37428,6 13:28:42,00:59:58,9 27:38:37,13:05:46,10 04:14:43,13:18:44,7 02:26:57,00:42:42,7 07:10:22,00:56:48,3 00:42:17,00:02:18,5 26:56:24,01:14:58,11 01:37:46,-00:02:49,10 22:48:12,00:01:06,4 22:48:12,00:01:06,1 06:06:06,-00:02:15,11 05:35:45,-00:01:13,9 07:12:56,00:00:29,30-10-25  14:23:50,9 22:26:11,-24:13:07
01-11-25,23.41393,6 14:28:41,01:00:00,10 10:57:29,13:32:27,10 17:47:16,13:46:44,7 03:09:40,00:42:46,7 08:05:29,00:53:22,3 00:44:29,00:02:07,5 28:11:22,01:14:59,11 01:35:00,-00:02:44,10 22:49:19,00:00:57,4 22:49:19,00:00:57,1 06:03:50,-00:02:17,11 05:34:33,-00:01:12,9 07:13:25,00:00:31,31-10-25  14:56:08,10 05:52:37,-24:13:07
02-11-25,23.45359,6 15:28:42,01:00:01,10 24:44:15,14:01:16,11 01:48:31,14:15:44,7 03:52:28,00:42:49,7 08:56:58,00:49:33,3 00:46:30,00:01:55,5 29:26:22,01:15:01,11 01:32:18,-00:02:39,10 22:49:45,-00:00:13,4 22:49:45,-00:00:13,1 06:01:33,-00:02:18,11 05:33:21,-00:01:11,9 07:13:57,00:00:32,01-11-25  15:26:36,10 19:46:10,-24:13:08
03-11-25,23.49324,6 16:28:44,01:00:03,11 08:59:55,14:29:45,11 16:18:08,14:42:52,7 04:35:18,00:42:52,7 09:44:26,00:45:17,3 00:48:20,00:01:44,6 00:41:23,01:15:02,11 01:29:42,-00:02:34,10 22:48:36,-00:02:12,4 22:48:36,-00:02:12,1 05:59:14,-00:02:19,11 05:32:11,-00:01:09,9 07:14:30,00:00:34,02-11-25  15:56:35,11 04:09:30,-24:13:08
04-11-25,23.53290,6 17:28:48,01:00:05,11 23:42:35,14:54:40,0 01:12:29,15:04:39,7 05:18:12,00:42:56,7 10:27:23,00:40:32,3 00:49:58,00:01:32,6 01:56:26,01:15:03,11 01:27:11,-00:02:28,10 22:45:13,-00:04:36,4 22:45:13,-00:04:36,1 05:56:54,-00:02:20,11 05:31:02,-00:01:08,9 07:15:05,00:00:36,03-11-25  16:27:35,11 19:02:36,-24:13:08
05-11-25,23.57255,6 18:28:53,01:00:06,0 08:46:52,15:12:27,0 16:24:31,15:17:42,7 06:01:10,00:43:00,7 11:05:19,00:35:15,3 00:51:24,00:01:21,6 03:11:30,01:15:05,11 01:24:45,-00:02:23,10 22:39:26,-00:06:54,4 22:39:26,-00:06:54,1 05:54:33,-00:02:21,11 05:29:55,-00:01:06,9 07:15:41,00:00:37,04-11-25  17:01:15,0 04:22:07,-24:13:08
06-11-25,0.0122,6 19:29:00,01:00:08,0 24:04:06,15:20:09,1 01:44:10,15:19:41,7 06:44:11,00:43:03,7 11:37:40,00:29:22,3 00:52:39,00:01:09,6 04:26:35,01:15:06,11 01:22:25,-00:02:17,10 22:31:38,-00:08:33,4 22:31:38,-00:08:33,1 05:52:11,-00:02:22,11 05:28:49,-00:01:05,9 07:16:19,00:00:39,05-11-25  17:39:27,0 20:01:02,-24:13:08
07-11-25,0.0519,6 20:29:09,01:00:10,1 09:23:17,15:16:19,1 17:00:01,15:10:12,7 07:27:16,00:43:07,7 12:03:50,00:22:51,3 00:53:42,00:00:57,6 05:41:41,01:15:07,11 01:20:11,-00:02:11,10 22:22:40,-00:09:10,4 22:22:40,-00:09:10,1 05:49:48,-00:02:23,11 05:27:45,-00:01:03,9 07:16:59,00:00:41,06-11-25  18:24:07,1 05:49:19,-24:13:08
08-11-25,0.0915,6 21:29:20,01:00:12,1 24:33:04,15:01:38,2 02:01:17,14:50:58,7 08:10:25,00:43:11,7 12:23:09,00:15:41,3 00:54:33,00:00:46,6 06:56:49,01:15:09,11 01:18:02,-00:02:06,10 22:13:42,-00:08:35,4 22:13:42,-00:08:35,1 05:47:24,-00:02:24,11 05:26:43,-00:01:02,9 07:17:40,00:00:43,07-11-25  19:16:37,1 21:35:16,-24:13:08
09-11-25,0.1312,6 22:29:33,01:00:14,2 09:23:45,14:38:38,2 16:39:43,14:25:07,7 08:53:37,00:43:14,7 12:34:56,00:07:49,3 00:55:13,00:00:34,6 08:11:58,01:15:10,11 01:15:59,-00:02:00,10 22:05:51,-00:06:57,4 22:05:51,-00:06:57,1 05:44:59,-00:02:25,11 05:25:42,-00:01:00,9 07:18:23,00:00:44,08-11-25  20:16:50,2 07:07:16,-24:13:09
10-11-25,0.1708,6 23:29:48,01:00:16,2 23:48:44,14:10:52,3 00:50:32,13:56:20,7 09:36:52,00:43:18,7 12:38:32,-00:00:44,3 00:55:40,00:00:22,6 09:27:08,01:15:11,11 01:14:01,-00:01:54,10 22:00:00,-00:04:41,4 22:00:00,-00:04:41,1 05:42:33,-00:02:26,11 05:24:42,-00:00:58,9 07:19:08,00:00:46,09-11-25  21:22:36,2 22:15:34,-24:13:09
11-11-25,0.2105,6 24:30:05,01:00:18,3 07:45:04,13:41:53,3 14:32:29,13:27:50,7 10:20:12,00:43:21,7 12:33:16,-00:09:54,3 00:55:56,00:00:10,6 10:42:20,01:15:12,11 01:12:10,-00:01:48,10 21:56:30,-00:02:21,4 21:56:30,-00:02:21,1 05:40:06,-00:02:27,11 05:23:44,-00:00:57,9 07:19:54,00:00:47,10-11-25  22:30:36,3 06:53:59,-24:13:09
12-11-25,0.2501,6 25:30:24,01:00:20,3 21:13:01,13:14:28,3 27:47:05,13:01:59,7 11:03:34,00:43:25,7 12:18:33,-00:19:36,3 00:56:00,-00:00:02,6 11:57:32,01:15:14,11 01:10:24,-00:01:43,10 21:55:08,-00:00:28,4 21:55:08,-00:00:28,1 05:37:39,-00:02:28,11 05:22:48,-00:00:55,9 07:20:42,00:00:49,11-11-25  23:37:54,3 21:00:50,-24:13:09
13-11-25,0.2858,6 26:30:44,01:00:22,4 04:15:10,12:50:30,4 10:37:46,12:40:07,7 11:47:01,00:43:28,7 11:53:56,-00:29:41,3 00:55:51,-00:00:14,6 13:12:46,01:15:15,11 01:08:44,-00:01:37,10 21:55:15,00:00:31,4 21:55:15,00:00:31,1 05:35:11,-00:02:28,11 05:21:54,-00:00:54,9 07:21:32,00:00:50,13-11-25  00:42:59,4 04:38:09,-24:13:10
14-11-25,0.3255,6 27:31:07,01:00:24,4 16:55:28,12:30:52,4 23:08:50,12:22:46,7 12:30:31,00:43:32,7 11:19:09,-00:39:53,3 00:55:31,-00:00:26,6 14:28:01,01:15:16,11 01:07:11,-00:01:31,10 21:55:47,00:00:23,4 21:55:47,00:00:23,1 05:32:42,-00:02:29,11 05:21:01,-00:00:52,9 07:22:23,00:00:52,14-11-25  01:45:31,4 17:50:27,-24:13:10
15-11-25,0.3651,6 28:31:32,01:00:26,4 29:18:25,12:15:47,5 05:24:48,12:09:52,7 13:14:05,00:43:36,7 10:34:14,-00:49:54,3 00:54:58,-00:00:38,6 15:43:17,01:15:17,11 01:05:43,-00:01:25,10 21:55:37,-00:00:53,4 21:55:37,-00:00:53,1 05:30:13,-00:02:29,11 05:20:10,-00:00:50,9 07:23:16,00:00:54,15-11-25  02:45:59,5 00:43:09,-24:13:10
16-11-25,0.4048,6 29:31:59,01:00:28,5 11:28:27,12:04:56,5 17:29:53,12:00:56,7 13:57:43,00:43:39,7 09:39:33,-00:59:19,3 00:54:14,-00:00:50,6 16:58:35,01:15:18,11 01:04:22,-00:01:18,10 21:53:42,-00:03:06,4 21:53:42,-00:03:06,1 05:27:43,-00:02:30,11 05:19:20,-00:00:48,9 07:24:10,00:00:55,16-11-25  03:45:07,5 13:21:40,-24:13:10
17-11-25,0.4444,7 00:32:27,01:00:29,5 23:29:31,11:57:45,5 29:27:46,11:55:19,7 14:41:24,00:43:43,7 08:35:58,-01:07:39,3 00:53:17,-00:01:02,6 18:13:53,01:15:19,11 01:03:06,-00:01:12,10 21:49:13,-00:05:55,4 21:49:13,-00:05:55,1 05:25:13,-00:02:30,11 05:18:33,-00:00:47,9 07:25:06,00:00:57,16-11-25  03:45:07,5 13:21:40,-24:13:10
18-11-25,0.4841,7 01:32:57,01:00:31,6 05:24:57,11:53:32,6 11:21:23,11:52:19,7 15:25:08,00:43:46,7 07:24:47,-01:14:24,3 00:52:09,-00:01:15,6 19:29:12,01:15:20,11 01:01:57,-00:01:06,10 21:41:47,-00:08:54,4 21:41:47,-00:08:54,1 05:22:43,-00:02:30,11 05:17:47,-00:00:45,9 07:26:03,00:00:58,17-11-25  04:43:40,5 25:50:49,-24:13:10
19-11-25,0.5237,7 02:33:29,01:00:33,6 17:17:20,11:51:35,6 23:13:02,11:51:17,7 16:08:56,00:43:50,7 06:07:50,-01:19:07,3 00:50:48,-00:01:26,6 20:44:31,01:15:20,11 01:00:54,-00:01:00,10 21:31:30,-00:11:34,4 21:31:30,-00:11:34,1 05:20:12,-00:02:31,11 05:17:03,-00:00:43,9 07:27:03,00:01:00,18-11-25  05:42:11,6 08:14:25,-24:13:10
20-11-25,0.5634,7 03:34:02,01:00:34,6 29:08:40,11:51:21,7 05:04:26,11:51:45,7 16:52:48,00:43:53,7 04:47:22,-01:21:23,3 00:49:16,-00:01:38,6 21:59:52,01:15:21,11 00:59:58,-00:00:53,10 21:18:53,-00:13:31,4 21:18:53,-00:13:31,1 05:17:42,-00:02:31,11 05:16:21,-00:00:41,9 07:28:03,00:01:02,19-11-25  06:40:50,6 20:35:22,-24:13:10
21-11-25,1.0030,7 04:34:37,01:00:36,7 11:00:28,11:52:28,7 16:56:57,11:53:30,7 17:36:43,00:43:57,7 03:25:57,-01:20:59,3 00:47:31,-00:01:50,6 23:15:13,01:15:22,11 00:59:07,-00:00:47,10 21:04:50,-00:14:24,4 21:04:50,-00:14:24,1 05:15:11,-00:02:31,11 05:15:41,-00:00:39,9 07:29:05,00:01:03,20-11-25  07:39:13,7 02:55:33,-24:13:10
22-11-25,1.0427,7 05:35:14,01:00:37,7 22:54:02,11:54:52,7 28:51:53,11:56:36,7 18:20:41,00:44:00,7 02:06:17,-01:17:53,3 00:45:34,-00:02:02,6 24:30:35,01:15:23,11 00:58:24,-00:00:40,10 20:50:29,-00:14:05,4 20:50:29,-00:14:05,1 05:12:40,-00:02:31,11 05:15:02,-00:00:37,9 07:30:09,00:01:05,21-11-25  08:36:26,7 15:16:07,-24:13:11
23-11-25,1.0824,7 06:35:52,01:00:39,8 04:50:41,11:58:44,8 10:50:41,12:01:20,7 19:04:43,00:44:04,7 00:51:02,-01:12:13,3 00:43:26,-00:02:14,6 25:45:58,01:15:23,11 00:57:46,-00:00:34,10 20:37:02,-00:12:36,4 20:37:02,-00:12:36,1 05:10:09,-00:02:31,11 05:14:26,-00:00:35,9 07:31:14,00:01:06,22-11-25  09:31:05,7 27:37:48,-24:13:11
24-11-25,1.1220,7 07:36:31,01:00:40,8 16:52:07,12:04:29,8 22:55:16,12:08:16,7 19:48:48,00:44:07,6 29:42:34,-01:04:22,3 00:41:06,-00:02:26,6 27:01:21,01:15:24,11 00:57:15,-00:00:28,10 20:25:34,-00:10:12,4 20:25:34,-00:10:12,1 05:07:38,-00:02:31,11 05:13:51,-00:00:33,9 07:32:21,00:01:08,23-11-25  10:21:46,8 10:01:29,-24:13:11
25-11-25,1.1617,7 08:37:11,01:00:41,8 29:00:30,12:12:45,9 05:08:09,12:18:02,7 20:32:57,00:44:10,6 28:42:52,-00:54:46,3 00:38:34,-00:02:38,6 28:16:45,01:15:24,11 00:56:51,-00:00:21,10 20:16:48,-00:07:16,4 20:16:48,-00:07:16,1 05:05:07,-00:02:30,11 05:13:18,-00:00:31,9 07:33:29,00:01:09,24-11-25  11:07:31,8 22:28:44,-24:13:11
26-11-25,1.2013,7 09:37:52,01:00:42,9 11:18:40,12:24:12,9 17:32:31,12:31:19,7 21:17:08,00:44:14,6 27:53:25,-00:43:59,3 00:35:50,-00:02:49,6 29:32:09,01:15:24,11 00:56:32,-00:00:15,10 20:11:03,-00:04:17,4 20:11:03,-00:04:17,1 05:02:37,-00:02:30,11 05:12:48,-00:00:30,9 07:34:38,00:01:10,25-11-25  11:48:07,9 05:02:04,-24:13:12
27-11-25,1.2410,7 10:38:35,01:00:43,9 23:50:09,12:39:26,10 00:12:07,12:48:36,7 22:01:23,00:44:17,6 27:15:07,-00:32:32,3 00:32:55,-00:03:01,7 00:47:33,01:15:25,11 00:56:21,-00:00:08,10 20:08:03,-00:01:49,4 20:08:03,-00:01:49,1 05:00:07,-00:02:30,11 05:12:19,-00:00:28,9 07:35:49,00:01:12,26-11-25  12:24:06,9 17:45:05,-24:13:12
28-11-25,1.2806,7 11:39:19,01:00:44,10 06:38:55,12:58:48,10 13:11:05,13:10:01,7 22:45:42,00:44:20,6 26:48:23,-00:20:54,3 00:29:48,-00:03:12,7 02:02:58,01:15:25,11 00:56:16,-00:00:02,10 20:07:06,-00:00:17,4 20:07:06,-00:00:17,1 04:57:37,-00:02:29,11 05:11:52,-00:00:26,9 07:37:02,00:01:13,27-11-25  12:56:27,10 00:42:16,-24:13:12
29-11-25,1.3203,7 12:40:03,01:00:45,10 19:49:05,13:22:11,10 26:33:23,13:35:09,7 23:30:03,00:44:23,6 26:33:15,-00:09:27,3 00:26:30,-00:03:24,7 03:18:23,01:15:25,11 00:56:17,00:00:05,10 20:07:04,00:00:01,4 20:07:04,00:00:01,1 04:55:07,-00:02:29,11 05:11:27,-00:00:24,9 07:38:15,00:01:14,28-11-25  13:26:23,10 13:58:31,-24:13:12
30-11-25,1.3559,7 13:40:49,01:00:46,11 03:24:21,13:48:45,11 10:22:12,14:02:43,7 24:14:28,00:44:26,6 26:29:19,00:01:30,3 00:23:01,-00:03:35,7 04:33:48,01:15:26,11 00:56:25,00:00:11,10 20:06:41,-00:01:01,4 20:06:41,-00:01:01,1 04:52:39,-00:02:28,11 05:11:04,-00:00:22,9 07:39:30,00:01:16,29-11-25  13:55:11,10 27:38:41,-24:13:12
01-12-25,1.3956,7 14:41:35,01:00:47,11 17:27:04,14:16:44,11 24:38:53,14:30:26,7 24:58:55,00:44:29,6 26:36:00,00:11:45,3 00:19:20,-00:03:46,7 05:49:14,01:15:26,11 00:56:39,00:00:18,10 20:04:40,-00:03:09,4 20:04:40,-00:03:09,1 04:50:10,-00:02:28,11 05:10:44,-00:00:20,9 07:40:47,00:01:17,30-11-25  14:24:18,11 11:46:47,-24:13:12
02-12-25,1.4353,7 15:42:23,01:00:48,0 01:57:23,14:43:23,0 09:22:04,14:55:05,7 25:43:26,00:44:32,6 26:52:33,00:21:12,3 00:15:29,-00:03:57,7 07:04:40,01:15:26,11 00:57:00,00:00:24,10 20:00:08,-00:05:57,4 20:00:08,-00:05:57,1 04:47:43,-00:02:27,11 05:10:25,-00:00:18,9 07:42:05,00:01:19,01-12-25  14:55:15,11 26:25:01,-24:13:12
03-12-25,1.4749,7 16:43:11,01:00:49,0 16:52:11,15:05:06,0 24:26:48,15:12:57,7 26:28:00,00:44:36,6 27:18:06,00:29:46,3 00:11:26,-00:04:08,7 08:20:07,01:15:27,11 00:57:27,00:00:31,10 19:52:45,-00:08:45,4 19:52:45,-00:08:45,1 04:45:16,-00:02:26,11 05:10:08,-00:00:16,9 07:43:24,00:01:20,02-12-25  15:29:53,0 11:32:45,-24:13:12
04-12-25,1.5146,7 17:44:01,01:00:50,1 02:04:43,15:18:16,1 09:44:36,15:20:46,7 27:12:37,00:44:39,6 27:51:46,00:37:28,3 00:07:13,-00:04:18,7 09:35:33,01:15:27,11 00:58:00,00:00:37,10 19:42:51,-00:10:53,4 19:42:51,-00:10:53,1 04:42:50,-00:02:25,11 05:09:53,-00:00:13,9 07:44:44,00:01:21,03-12-25  16:10:15,0 27:05:39,-24:13:13
05-12-25,1.5542,7 18:44:51,01:00:51,1 17:24:58,15:20:15,1 25:04:20,15:16:45,7 27:57:17,00:44:42,6 28:32:43,00:44:19,3 00:02:49,-00:04:29,7 10:51:00,01:15:28,11 00:58:40,00:00:44,10 19:31:22,-00:11:50,4 19:31:22,-00:11:50,1 04:40:24,-00:02:25,11 05:09:41,-00:00:11,9 07:46:06,00:01:23,04-12-25  16:58:23,1 12:55:25,-24:13:13
06-12-25,1.5939,7 19:45:43,01:00:52,2 02:41:14,15:10:21,2 10:14:15,15:01:22,7 28:42:00,00:44:45,6 29:20:07,00:50:22,2 29:58:15,-00:04:39,7 12:06:28,01:15:28,11 00:59:27,00:00:50,10 19:19:38,-00:11:22,4 19:19:38,-00:11:22,1 04:38:00,-00:02:24,11 05:09:30,-00:00:09,9 07:47:29,00:01:24,05-12-25  17:55:26,1 28:50:17,-24:13:13
07-12-25,2.0335,7 20:46:35,01:00:54,2 17:42:13,14:50:09,2 25:04:06,14:37:10,7 29:26:46,00:44:48,7 00:13:11,00:55:41,2 29:53:30,-00:04:49,7 13:21:55,01:15:28,11 01:00:20,00:00:56,10 19:09:03,-00:09:36,4 19:09:03,-00:09:36,1 04:35:36,-00:02:23,11 05:09:21,-00:00:07,9 07:48:53,00:01:25,06-12-25  19:00:28,2 14:36:32,-24:13:14
08-12-25,2.0732,7 21:47:29,01:00:55,3 02:19:09,14:22:53,3 09:26:51,14:07:49,8 00:11:36,00:44:51,7 01:11:14,01:00:20,2 29:48:36,-00:05:00,7 14:37:24,01:15:29,11 01:01:19,00:01:03,10 19:00:42,-00:07:00,4 19:00:42,-00:07:00,1 04:33:14,-00:02:22,11 05:09:15,-00:00:05,9 07:50:18,00:01:26,07-12-25  20:10:15,3 00:01:06,-24:13:14
09-12-25,2.1129,7 22:48:24,01:00:56,3 16:26:54,13:52:24,3 23:19:15,13:37:05,8 00:56:29,00:44:55,7 02:13:39,01:04:23,2 29:43:31,-00:05:10,7 15:52:52,01:15:29,11 01:02:25,00:01:09,10 18:55:07,-00:04:11,4 18:55:07,-00:04:11,1 04:30:52,-00:02:21,11 05:09:10,-00:00:03,9 07:51:45,00:01:27,08-12-25  21:20:51,3 14:54:43,-24:13:14
10-12-25,2.1525,7 23:49:20,01:00:57,4 00:04:03,13:22:13,4 06:41:36,13:08:05,8 01:41:25,00:44:58,7 03:19:50,01:07:55,2 29:38:16,-00:05:20,7 17:08:21,01:15:29,11 01:03:37,00:01:15,10 18:52:11,-00:01:46,4 18:52:11,-00:01:46,1 04:28:32,-00:02:20,11 05:09:07,-00:00:01,9 07:53:12,00:01:28,09-12-25  22:29:27,3 29:13:33,-24:13:14
11-12-25,2.1922,7 24:50:17,01:00:58,4 13:12:18,12:54:54,4 19:36:41,12:42:51,8 02:26:24,00:45:01,7 04:29:19,01:10:59,2 29:32:51,-00:05:29,7 18:23:50,01:15:30,11 01:04:55,00:01:22,10 18:51:15,-00:00:17,4 18:51:15,-00:00:17,1 04:26:13,-00:02:18,11 05:09:07,00:00:01,9 07:54:41,00:01:30,10-12-25  23:34:57,4 12:58:49,-24:13:15
12-12-25,2.2318,7 25:51:16,01:00:59,4 25:55:21,12:32:02,5 02:08:56,12:22:30,8 03:11:26,00:45:04,7 05:41:40,01:13:39,2 29:27:17,-00:05:39,7 19:39:20,01:15:30,11 01:06:20,00:01:28,10 18:51:13,00:00:00,4 18:51:13,00:00:00,1 04:23:55,-00:02:17,11 05:09:09,00:00:03,9 07:56:11,00:01:31,12-12-25  00:37:30,4 26:14:56,-24:13:15
13-12-25,2.2715,7 26:52:15,01:01:00,5 08:18:04,12:14:18,5 14:23:26,12:07:23,8 03:56:31,00:45:07,7 06:56:29,01:15:57,2 29:21:34,-00:05:48,7 20:54:50,01:15:30,11 01:07:52,00:01:34,10 18:50:50,-00:00:58,4 18:50:50,-00:00:58,1 04:21:38,-00:02:16,11 05:09:12,00:00:05,9 07:57:42,00:01:32,13-12-25  01:37:51,5 09:07:56,-24:13:15
14-12-25,2.3111,7 27:53:16,01:01:01,5 20:25:40,12:01:45,5 26:25:23,11:57:18,8 04:41:39,00:45:10,7 08:13:27,01:17:57,2 29:15:42,-00:05:57,7 22:10:21,01:15:31,11 01:09:29,00:01:41,10 18:48:55,-00:03:01,4 18:48:55,-00:03:01,1 04:19:23,-00:02:14,11 05:09:18,00:00:07,9 07:59:15,00:01:33,14-12-25  02:36:55,5 21:44:15,-24:13:15
15-12-25,2.3508,7 28:54:18,01:01:02,6 02:23:10,11:54:00,6 08:19:33,11:51:43,8 05:26:51,00:45:13,7 09:32:17,01:19:41,2 29:09:40,-00:06:06,7 23:25:51,01:15:31,11 01:11:13,00:01:47,10 18:44:33,-00:05:47,4 18:44:33,-00:05:47,1 04:17:09,-00:02:13,11 05:09:26,00:00:09,9 08:00:48,00:01:34,15-12-25  03:35:27,6 04:09:56,-24:13:15
16-12-25,2.3904,7 29:55:21,01:01:03,6 14:15:02,11:50:23,6 20:10:04,11:49:53,8 06:12:05,00:45:16,7 10:52:45,01:21:12,2 29:03:30,-00:06:14,7 24:41:22,01:15:31,11 01:13:03,00:01:54,10 18:37:16,-00:08:47,4 18:37:16,-00:08:47,1 04:14:57,-00:02:11,11 05:09:36,00:00:11,9 08:02:22,00:01:35,15-12-25  03:35:27,6 04:09:56,-24:13:15
17-12-25,2.4301,8 00:56:24,01:01:04,6 26:05:03,11:50:08,7 02:00:18,11:51:01,8 06:57:23,00:45:19,7 12:14:37,01:22:31,2 28:57:12,-00:06:22,7 25:56:54,01:15:31,11 01:15:00,00:02:00,10 18:27:04,-00:11:32,4 18:27:04,-00:11:32,1 04:12:46,-00:02:10,11 05:09:48,00:00:13,9 08:03:58,00:01:36,16-12-25  04:33:57,6 16:30:09,-24:13:15
18-12-25,2.4658,8 01:57:29,01:01:05,7 07:56:08,11:52:26,7 13:52:48,11:54:18,8 07:42:43,00:45:22,7 13:37:42,01:23:39,2 28:50:45,-00:06:30,7 27:12:25,01:15:32,11 01:17:03,00:02:06,10 18:14:27,-00:13:33,4 18:14:27,-00:13:33,1 04:10:37,-00:02:08,11 05:10:03,00:00:16,9 08:05:34,00:01:37,17-12-25  05:32:23,6 28:48:59,-24:13:16
19-12-25,2.5054,8 02:58:34,01:01:06,7 19:50:30,11:56:32,7 25:49:23,11:59:05,8 08:28:07,00:45:25,7 15:01:52,01:24:40,2 28:44:11,-00:06:38,7 28:27:56,01:15:32,11 01:19:12,00:02:12,10 18:00:19,-00:14:31,4 18:00:19,-00:14:31,1 04:08:29,-00:02:06,11 05:10:19,00:00:18,9 08:07:11,00:01:38,18-12-25  06:30:07,7 11:09:16,-24:13:16
20-12-25,2.5451,8 03:59:40,01:01:06,8 01:49:37,12:01:54,8 07:51:19,12:04:56,8 09:13:33,00:45:28,7 16:26:58,01:25:33,2 28:37:29,-00:06:45,7 29:43:28,01:15:32,11 01:21:27,00:02:19,10 17:45:48,-00:14:16,4 17:45:48,-00:14:16,1 04:06:24,-00:02:05,11 05:10:37,00:00:20,9 08:08:50,00:01:39,19-12-25  07:25:57,7 23:32:38,-24:13:16
21-12-25,2.5847,8 05:00:46,01:01:07,8 13:54:35,12:08:12,8 19:59:32,12:11:41,8 09:59:02,00:45:31,7 17:52:55,01:26:19,2 28:30:40,-00:06:53,8 00:59:00,01:15:32,11 01:23:48,00:02:25,10 17:32:09,-00:12:50,4 17:32:09,-00:12:50,1 04:04:20,-00:02:03,11 05:10:58,00:00:22,9 08:10:29,00:01:40,20-12-25  08:18:24,8 05:59:49,-24:13:16
22-12-25,3.0244,8 06:01:53,01:01:07,8 26:06:18,12:15:25,9 02:15:00,12:19:26,8 10:44:34,00:45:33,7 19:19:35,01:27:01,2 28:23:44,-00:06:59,8 02:14:31,01:15:32,11 01:26:16,00:02:31,10 17:20:27,-00:10:27,4 17:20:27,-00:10:27,1 04:02:18,-00:02:01,11 05:11:21,00:00:24,9 08:12:09,00:01:41,21-12-25  09:06:10,8 18:31:16,-24:13:17
23-12-25,3.0640,8 07:03:00,01:01:08,9 08:25:47,12:23:49,9 14:38:52,12:28:35,8 11:30:09,00:45:36,7 20:46:54,01:27:38,2 28:16:41,-00:07:06,8 03:30:03,01:15:32,11 01:28:49,00:02:37,10 17:11:27,-00:07:29,4 17:11:27,-00:07:29,1 04:00:18,-00:01:59,11 05:11:45,00:00:26,9 08:13:50,00:01:42,22-12-25  09:48:41,9 01:07:36,-24:13:17
24-12-25,3.1037,8 08:04:08,01:01:08,9 20:54:27,12:33:51,9 27:12:48,12:39:41,8 12:15:46,00:45:39,7 22:14:49,01:28:11,2 28:09:31,-00:07:12,8 04:45:34,01:15:32,11 01:31:29,00:02:43,10 17:05:30,-00:04:26,4 17:05:30,-00:04:26,1 03:58:20,-00:01:57,11 05:12:12,00:00:28,9 08:15:32,00:01:43,23-12-25  10:26:10,9 13:50:06,-24:13:17
25-12-25,3.1433,8 09:05:15,01:01:08,10 03:34:14,12:46:08,10 09:59:03,12:53:16,8 13:01:26,00:45:41,7 23:43:15,01:28:42,2 28:02:16,-00:07:18,8 06:01:06,01:15:31,11 01:34:14,00:02:49,10 17:02:27,-00:01:48,4 17:02:27,-00:01:48,1 03:56:23,-00:01:55,11 05:12:41,00:00:30,9 08:17:15,00:01:43,24-12-25  10:59:26,9 26:40:52,-24:13:17
26-12-25,3.1830,8 10:06:23,01:01:08,10 16:27:37,13:01:08,10 23:00:18,13:09:45,8 13:47:08,00:45:44,7 25:12:11,01:29:10,2 27:54:55,-00:07:24,8 07:16:37,01:15:31,11 01:37:06,00:02:55,10 17:01:36,-00:00:03,4 17:01:36,-00:00:03,1 03:54:29,-00:01:53,11 05:13:12,00:00:32,9 08:18:59,00:01:44,25-12-25  11:29:38,10 09:42:44,-24:13:17
27-12-25,3.2227,8 11:07:31,01:01:08,10 29:37:29,13:19:06,11 06:19:31,13:29:09,8 14:32:53,00:45:46,7 26:41:34,01:29:36,2 27:47:29,-00:07:29,8 08:32:08,01:15:31,11 01:40:04,00:03:00,10 17:01:57,00:00:33,4 17:01:57,00:00:33,1 03:52:37,-00:01:51,11 05:13:45,00:00:34,9 08:20:43,00:01:45,26-12-25  11:58:02,10 22:59:13,-24:13:18
28-12-25,3.2623,8 12:08:39,01:01:08,11 13:06:43,13:39:47,11 19:59:22,13:50:52,8 15:18:41,00:45:49,7 28:11:22,01:30:00,2 27:39:57,-00:07:34,8 09:47:39,01:15:31,11 01:43:07,00:03:06,10 17:02:17,-00:00:06,4 17:02:17,-00:00:06,1 03:50:48,-00:01:49,11 05:14:20,00:00:36,9 08:22:28,00:01:46,27-12-25  12:25:58,11 06:34:06,-24:13:18
29-12-25,3.3020,8 13:09:47,01:01:08,11 26:57:37,14:02:11,0 04:01:33,14:13:30,8 16:04:30,00:45:51,7 29:41:33,01:30:23,2 27:32:21,-00:07:38,8 11:03:09,01:15:31,11 01:46:16,00:03:12,10 17:01:24,-00:01:48,4 17:01:24,-00:01:48,1 03:49:00,-00:01:46,11 05:14:57,00:00:38,9 08:24:14,00:01:46,28-12-25  12:54:51,11 20:31:02,-24:13:18
30-12-25,3.3416,8 14:10:55,01:01:08,0 11:11:04,14:24:30,0 18:25:57,14:34:50,8 16:50:23,00:45:54,8 01:12:08,01:30:46,2 27:24:40,-00:07:42,8 12:18:40,01:15:30,11 01:49:31,00:03:18,10 16:58:26,-00:04:11,4 16:58:26,-00:04:11,1 03:47:15,-00:01:44,11 05:15:36,00:00:40,9 08:26:00,00:01:47,29-12-25  13:26:18,0 04:52:45,-24:13:18
31-12-25,3.3813,8 15:12:03,01:01:08,0 25:45:44,14:44:08,1 03:09:50,14:51:59,8 17:36:17,00:45:56,8 02:43:04,01:31:07,2 27:16:56,-00:07:46,8 13:34:10,01:15:30,11 01:52:51,00:03:24,10 16:53:00,-00:06:39,4 16:53:00,-00:06:39,1 03:45:32,-00:01:42,11 05:16:18,00:00:42,9 08:27:47,00:01:48,30-12-25  14:02:13,0 19:40:16,-24:13:18
`;

// nakshatra_yorumları.json içeriği
const nakshatraYorumlari = {
    "Ashwini": {
        "title": "1. Ashwini (Hız, Başlangıç, Şifa)",
        "destek": "✅ Destekler: Hızlı sonuç getirecek işlere başlamak, spora başlamak, şifa çalışmaları yapmak, alım-satım işlemleri gerçekleştirmek ve cerrahi operasyonlar için gün almak uygundur.",
        "dikkat": "❌ Dikkat: Sabır ve sakinlik gerektiren uzun vadeli işlere başlamamak, evlilik töreni yapmamak gerekir."
    },
    "Bharani": {
        "title": "2. Bharani (Dönüşüm, Yaratıcılık, Arınma)",
        "destek": "✅ Destekler: Ertelenmiş ve tamamlanamayan işleri bitirmek, yaratıcı faaliyetlerde bulunmak, adaletle ilgili işleri halletmek ve cinsel aktiviteler için zaman ayırmak desteklenir.",
        "dikkat": "❌ Dikkat: Yeni seyahatlere çıkmaktan ve nazik başlangıçlar yapmaktan kaçınmak önemlidir."
    },
    "Krittika": {
        "title": "3. Krittika (Ateş, Keskinlik, Arındırma)",
        "destek": "✅ Destekler: Yarım kalmış işleri bitirmek ve sonlandırmak, yönetici rolü üstlenmek, dikiş-nakış gibi el işleri ve yemek yapmak için harikadır.",
        "dikkat": "❌ Dikkat: Dinlenmek ve rahatlatıcı aktiviteler yapmamak, yeni bir ilişkiye başlamamak önerilir."
    },
    "Rohini": {
        "title": "4. Rohini (Büyüme, Bolluk, Güzellik)",
        "destek": "✅ Destekler: Evlilik yapmak, yeni bir eğitime veya işe başlamak, araç veya mülk satın almak, ekim-dikim işleri yapmak için en verimli zamanlardır.",
        "dikkat": "❌ Dikkat: Bir şeyleri bitirmekten, sonlandırmaktan veya yıkımla ilgili işler yapmaktan kaçınılmalıdır."
    },
    "Mrigashira": {
        "title": "5. Mrigashira (Arayış, Merak, Seyahat)",
        "destek": "✅ Destekler: Yeni bir yere taşınmak, seyahat etmek, sanatsal ve zihinsel faaliyetlerde bulunmak, yeni şeyler keşfetmek ve sosyalleşmek için idealdir.",
        "dikkat": "❌ Dikkat: Evlilik gibi kalıcı ve ciddi kararlar vermekten kaçınmak gerekir."
    },
    "Ardra": {
        "title": "6. Ardra (Dönüşüm, Yoğunluk, Arınma)",
        "destek": "✅ Destekler: Kötü alışkanlıkları bırakmak, diyet veya detoks yapmak, eski ve gereksiz olanı hayattan çıkarmak, derin araştırmalar yürütmek desteklenir.",
        "dikkat": "❌ Dikkat: Yeni bir seyahate çıkmamak, evlilik töreni planlamamak ve yeni başlangıçlar yapmamak önemlidir."
    },
    "Punarvasu": {
        "title": "7. Punarvasu (Yenilenme, Geri Dönüş, Besleme)",
        "destek": "✅ Destekler: Yaratıcılık gerektiren işler yapmak, çocuklarla ilgili faaliyetlerde bulunmak, besleyici ve iyileştirici çalışmalar yürütmek için uygundur.",
        "dikkat": "❌ Dikkat: Kredi almaktan ve borç vermekten kaçınmak gerekir."
    },
    "Pushya": {
        "title": "8. Pushya (Besleme, Maneviyat, Huzur)",
        "destek": "✅ Destekler: Dini ve manevi çalışmalar yapmak, rehberlik ve danışmanlık vermek, dans veya müzik gibi hobilere başlamak için en güzel zamanlardandır.",
        "dikkat": "❌ Dikkat: Evlilik yapmamak, sert ve rekabetçi faaliyetlere girişmemek önerilir."
    },
    "Ashlesha": {
        "title": "9. Ashlesha (Entrika, Gizem, Şifa)",
        "destek": "✅ Destekler: Mahkeme ve dava süreçlerini başlatmak, strateji kurmak, psikolojik analizler yapmak ve enerji çalışmaları yürütmek için kullanılabilir.",
        "dikkat": "❌ Dikkat: Büyük finansal yatırımlar yapmaktan, ticaret başlatmaktan ve borç alıp vermekten kaçınılmalıdır."
    },
    "Magha": {
        "title": "10. Magha (Gelenek, Otorite, Atalar)",
        "destek": "✅ Destekler: Ev ve gayrimenkul satın almak, atalarla ilgili çalışmalar yapmak, tarihsel araştırmalara yönelmek ve liderlik rolünü üstlenmek için uygundur.",
        "dikkat": "❌ Dikkat: Borç vermekten ve hizmet odaklı mütevazı işlere başlamaktan kaçınmak gerekir."
    },
    "Purva Phalguni": {
        "title": "11. Purva Phalguni (Keyif, Romantizm, Yaratıcılık)",
        "destek": "✅ Destekler: Zevk, eğlence ve konfora yönelik eylemlerde bulunmak, romantik buluşmalar ayarlamak, emlak ve yatırım işleri yapmak için idealdir.",
        "dikkat": "❌ Dikkat: Şifa bulmak için yeni bir tedaviye başlamamak, zihinsel ve entelektüel işlere yoğunlaşmamak önerilir."
    },
    "Uttara Phalguni": {
        "title": "12. Uttara Phalguni (Bağlılık, Evlilik, Yardım)",
        "destek": "✅ Destekler: Evlilik yapmak, ev veya ofis satın almak, resmi açılışlar gerçekleştirmek, yeni bir işe başlamak ve önemli anlaşmalar imzalamak desteklenir.",
        "dikkat": "❌ Dikkat: Borç para vermekten ve bir işi aniden sonlandırmaktan kaçınmak önemlidir."
    },
    "Hasta": {
        "title": "13. Hasta (El Becerisi, Zeka, Organizasyon)",
        "destek": "✅ Destekler: El sanatları ile uğraşmak, yeni bir dil öğrenmek, ev taşımak, organizasyon ve planlama yapmak, şifa seansları düzenlemek için harikadır.",
        "dikkat": "❌ Dikkat: Uzun vadeli stratejik planlar yapmamak, sadece zevke dayalı eylemlerden kaçınmak gerekir."
    },
    "Chitra": {
        "title": "14. Chitra (Estetik, Tasarım, Karizma)",
        "destek": "✅ Destekler: Dekorasyon ve tasarım yapmak, yeni bir flört ilişkisine başlamak, estetik operasyon yaptırmak, saç kestirmek ve yeni kıyafetler satın almak için uygundur.",
        "dikkat": "❌ Dikkat: Mahkeme işlerine girişmemek ve evlilik gibi ciddi bağlılıklar için adım atmamak önerilir."
    },
    "Swati": {
        "title": "15. Swati (Denge, Diplomasi, Ticaret)",
        "destek": "✅ Destekler: Ticaret ve alım-satım yapmak, ticari anlaşmalar imzalamak, sosyalleşmek, pazarlık yürütmek ve yeni bir eğitime başlamak için idealdir.",
        "dikkat": "❌ Dikkat: Uzun seyahatlere çıkmaktan ve çatışmacı eylemlerde bulunmaktan kaçınmak gerekir."
    },
    "Vishakha": {
        "title": "16. Vishakha (Hedef, Kararlılık, Zafer)",
        "destek": "✅ Destekler: Odaklanma gerektiren hedeflere yönelmek, rekabetçi işleri tamamlamak, spor müsabakalarına katılmak ve kararlılıkla bir işi bitirmek için güçlüdür.",
        "dikkat": "❌ Dikkat: Seyahat etmemek, evlilik töreni yapmamak, nazik ve diplomatik başlangıçlardan kaçınmak önemlidir."
    },
    "Anuradha": {
        "title": "17. Anuradha (Dostluk, Adanmışlık, Başarı)",
        "destek": "✅ Destekler: Meditasyon yapmak, astroloji gibi konuları öğrenmek, grup aktiviteleri düzenlemek ve arkadaşlıkları güçlendirmek için uygundur.",
        "dikkat": "❌ Dikkat: Büyük açılışlar yapmaktan, sıfırdan yeni işlere başlamaktan ve evlenmekten kaçınılmalıdır."
    },
    "Jyeshtha": {
        "title": "18. Jyeshtha (Otorite, Bilgelik, Koruma)",
        "destek": "✅ Destekler: Disiplinli ve planlı davranmak, yönetimsel işlerle uğraşmak, gizli ilimleri araştırmak ve sorumluluk almak için destekleyicidir.",
        "dikkat": "❌ Dikkat: Şifa ve iyileşme işlemleri yapmamak, evlilik töreni düzenlememek ve seyahate çıkmamak gerekir."
    },
    "Mula": {
        "title": "19. Mula (Kökler, Araştırma, Dönüşüm)",
        "destek": "✅ Destekler: Bilimsel çalışmalar yapmak, bir konunun derinine inmek, alım-satım gerçekleştirmek ve bahçede kök ekim işleriyle uğraşmak için idealdir.",
        "dikkat": "❌ Dikkat: Borç almaktan veya vermekten, önemli finansal işlemler yapmaktan ve evlenmekten kaçınmak önemlidir."
    },
    "Purva Ashadha": {
        "title": "20. Purva Ashadha (Zafer, İlham, Arınma)",
        "destek": "✅ Destekler: Borç işlemlerini halletmek, evlilik yapmak, su kenarlarına seyahat etmek, ilham gerektiren sanatsal işlere başlamak için uygundur.",
        "dikkat": "❌ Dikkat: Şifa ve iyileşme çalışmaları yapmaktan kaçınmak gerekir."
    },
    "Uttara Ashadha": {
        "title": "21. Uttara Ashadha (Kalıcılık, Liderlik, Başarı)",
        "destek": "✅ Destekler: Bir işin temelini atmak, yeni bir işe başlamak, manevi ritüeller yapmak ve önemli anlaşmaları imzalamak için kalıcı enerjiler sunar.",
        "dikkat": "❌ Dikkat: Bir işi aniden bitirmekten, evlilik dışı ilişkilerden ve yasa dışı eylemlerden kaçınmak gerekir. (Not: Evlilik için başlangıç enerjisi tartışmalıdır, bazı kaynaklar kaçınılması gerektiğini belirtir)."
    },
    "Shravana": {
        "title": "22. Shravana (Dinleme, Öğrenme, Bilgelik)",
        "destek": "✅ Destekler: Yeni bir dil öğrenmek, danışmanlık almak, emlak satın almak, manevi bilgiler edinmek ve seyahat etmek için verimlidir.",
        "dikkat": "❌ Dikkat: Agresif eylemlere girişmemek, tutulamayacak sözler vermemek ve büyük riskler almamak önemlidir."
    },
    "Dhanishtha": {
        "title": "23. Dhanishtha (Zenginlik, Ritim, Müzik)",
        "destek": "✅ Destekler: Para ile ilgili her türlü işlemi yapmak, konserlere gitmek, müzik ve dansla ilgilenmek, gayrimenkul alım satımı gerçekleştirmek için harikadır.",
        "dikkat": "❌ Dikkat: Evlilik yapmaktan ve cinsel faaliyetlere odaklanmaktan kaçınmak önerilir."
    },
    "Shatabhisha": {
        "title": "24. Shatabhisha (Şifa, Gizem, Meditasyon)",
        "destek": "✅ Destekler: Yeni bir araç satın almak, seyahat etmek, astroloji gibi konuları öğrenmek, meditasyon yapmak ve teknolojik işlerle uğraşmak için idealdir.",
        "dikkat": "❌ Dikkat: Büyük sosyal etkinlikler düzenlememek, evlilik töreni yapmamak gerekir."
    },
    "Purva Bhadrapada": {
        "title": "25. Purva Bhadrapada (Ateş, Tutku, Analiz)",
        "destek": "✅ Destekler: Risk almak, tehlikeli veya mekanik işleri halletmek, paranormal konuları araştırmak ve tarım işleri yapmak için uygundur.",
        "dikkat": "❌ Dikkat: Evlilik yapmaktan, seyahate çıkmaktan ve sakin başlangıçlar gerektiren işlerden kaçınmak önemlidir."
    },
    "Uttara Bhadrapada": {
        "title": "26. Uttara Bhadrapada (Bilgelik, Huzur, Bereket)",
        "destek": "✅ Destekler: Finansal yatırım ve birikim yapmak, evlilik gerçekleştirmek, bir işin temelini atmak ve sakinlik gerektiren manevi çalışmalar yürütmek için mükemmeldir.",
        "dikkat": "❌ Dikkat: Hızlı sonuç beklenen işlere başlamamak ve uzun seyahatlere çıkmamak önerilir."
    },
    "Revati": {
        "title": "27. Revati (Besleme, Yolculuk, Merhamet)",
        "destek": "✅ Destekler: Ruhsal seyahatlere çıkmak, müzik ve sanatla uğraşmak, yurt dışı seyahatleri planlamak, şifa çalışmaları yapmak ve ticareti sonuçlandırmak için idealdir.",
        "dikkat": "❌ Dikkat: Büyük engellerle mücadele etmekten, ameliyat olmaktan ve zorlu, stresli işlere başlamaktan kaçınılmalıdır."
    }
};

// burc_yorumları.json içeriği
const burcYorumlari = {
    "Koç": { "house": 1, "themes": "kimlik, başlangıçlar, fiziksel beden ve dış görünüş" },
    "Boğa": { "house": 2, "themes": "maddi kaynaklar, değerler, finansal güvenlik ve kişisel yetenekler" },
    "İkizler": { "house": 3, "themes": "iletişim, kısa seyahatler, kardeşler, yakın çevre ve eğitim" },
    "Yengeç": { "house": 4, "themes": "ev, aile, kökler, duygusal temel ve iç huzur" },
    "Aslan": { "house": 5, "themes": "yaratıcılık, aşk, çocuklar, hobiler ve kendini ifade etme" },
    "Başak": { "house": 6, "themes": "günlük rutinler, iş hayatı, sağlık, hizmet ve düzen" },
    "Terazi": { "house": 7, "themes": "ikili ilişkiler, ortaklıklar, evlilik ve adalet" },
    "Akrep": { "house": 8, "themes": "dönüşüm, ortak kaynaklar, sırlar ve derin duygusal bağlar" },
    "Yay": { "house": 9, "themes": "yüksek öğrenim, yurt dışı, felsefe, inançlar ve ufukları genişletme" },
    "Oğlak": { "house": 10, "themes": "kariyer, toplumsal statü, hedefler ve sorumluluklar" },
    "Kova": { "house": 11, "themes": "sosyal çevre, arkadaşlar, umutlar, hayaller ve toplumsal konular" },
    "Balık": { "house": 12, "themes": "maneviyat, bilinçaltı, ruhsal çalışmalar ve içe çekilme" }
};


// --- SABİTLER VE YARDIMCI VERİLER ---
const PLANET_SYMBOLS = { Su: '☉', Mo: '☽', Ma: '♂', Me: '☿', Ju: '♃', Ve: '♀', Sa: '♄', Ra: '☊', Ke: '☋' };
const PLANET_NAMES = { Su: 'Güneş', Mo: 'Ay', Ma: 'Mars', Me: 'Merkür', Ju: 'Jüpiter', Ve: 'Venüs', Sa: 'Satürn', Ra: 'Rahu', Ke: 'Ketu' };
const ZODIAC_SIGNS = ['Koç', 'Boğa', 'İkizler', 'Yengeç', 'Aslan', 'Başak', 'Terazi', 'Akrep', 'Yay', 'Oğlak', 'Kova', 'Balık'];
const NAKSHATRAS = [
    'Ashwini', 'Bharani', 'Krittika', 'Rohini', 'Mrigashira', 'Ardra', 'Punarvasu', 'Pushya', 'Ashlesha',
    'Magha', 'Purva Phalguni', 'Uttara Phalguni', 'Hasta', 'Chitra', 'Swati', 'Vishakha', 'Anuradha', 'Jyeshtha',
    'Mula', 'Purva Ashadha', 'Uttara Ashadha', 'Shravana', 'Dhanishtha', 'Shatabhisha', 'Purva Bhadrapada', 'Uttara Bhadrapada', 'Revati'
];
const PLANET_KEYS = ['Su', 'Mo', 'Ma', 'Me', 'Ju', 'Ve', 'Sa', 'Ra', 'Ke'];
const AYLAR = ["Ocak", "Şubat", "Mart", "Nisan", "Mayıs", "Haziran", "Temmuz", "Ağustos", "Eylül", "Ekim", "Kasım", "Aralık"];
const GUNLER = ["Pazar", "Pazartesi", "Salı", "Çarşamba", "Perşembe", "Cuma", "Cumartesi"];

let ephemerisData = [];

// --- HESAPLAMA FONKSİYONLARI ---

/** Derece:Dakika:Saniye formatını ondalık dereceye çevirir */
function dmsToDegrees(dmsStr) {
    if (!dmsStr || typeof dmsStr !== 'string') return 0;
    const parts = dmsStr.replace(/ /g, ':').split(':').map(Number);
    let sign = 1;
    if (parts[0] < 0) {
        sign = -1;
        parts[0] = Math.abs(parts[0]);
    }
    const [d = 0, m = 0, s = 0] = parts;
    return sign * (d + m / 60 + s / 3600);
}

/** Gezegenin toplam Zodyak derecesini hesaplar (0-360) */
function getTotalDegrees(planetData) {
    const signIndex = planetData.sign; // 0-11
    return (signIndex * 30) + planetData.degree;
}

/** Toplam dereceye göre Nakşatra'yı bulur */
function getNakshatra(totalDegrees) {
    const nakshatraSize = 360 / 27;
    const nakshatraIndex = Math.floor(totalDegrees / nakshatraSize);
    return NAKSHATRAS[nakshatraIndex];
}

/** Verilen bir tarih ve GMT saat için gezegen pozisyonunu interpole eder */
function interpolatePosition(targetDate, hourGMT) {
    const dayIndex = ephemerisData.findIndex(d => d.date.getTime() === targetDate.getTime());
    if (dayIndex === -1 || dayIndex + 1 >= ephemerisData.length) {
        return null; // Gelecek gün verisi yoksa hesaplama yapılamaz
    }

    const day1 = ephemerisData[dayIndex];
    const day2 = ephemerisData[dayIndex + 1];

    const interpolatedPositions = { date: targetDate };

    PLANET_KEYS.forEach(key => {
        const totalDeg1 = getTotalDegrees(day1.planets[key]);
        let totalDeg2 = getTotalDegrees(day2.planets[key]);

        // 360->0 derece geçişini ele al
        if (Math.abs(totalDeg2 - totalDeg1) > 180) {
            if (totalDeg1 > totalDeg2) totalDeg2 += 360;
            else totalDeg1 += 360;
        }

        const interpolatedTotalDeg = totalDeg1 + ((totalDeg2 - totalDeg1) * (hourGMT / 24));
        const finalDeg = interpolatedTotalDeg % 360;

        const sign = Math.floor(finalDeg / 30);
        const degree = finalDeg % 30;

        interpolatedPositions[key] = {
            sign: sign,
            degree: degree,
            nakshatra: getNakshatra(finalDeg),
            totalDegrees: finalDeg
        };
    });

    return interpolatedPositions;
}


// --- VERİ İŞLEME ---

/** ephemeri.txt içeriğini ayrıştırır ve yapılandırılmış bir diziye dönüştürür */
function parseEphemeri() {
    const lines = ephemeriFileContent.trim().split('\n').slice(2);
    const data = lines.map(line => {
        const columns = line.split(',');
        const dateParts = columns[0].split('-');
        // YYYY-MM-DD formatına çeviriyoruz Date objesi için
        const date = new Date(`20${dateParts[2]}-${dateParts[1]}-${dateParts[0]}T00:00:00Z`);

        const planets = {};
        const planetCols = {
            Su: 2, Ma: 8, Me: 10, Ju: 12, Ve: 14, Sa: 16, Ra: 18, Ke: 20, Mo: 4
        };
        const speedCols = {
            Su: 3, Ma: 9, Me: 11, Ju: 13, Ve: 15, Sa: 17, Ra: 19, Ke: 21, Mo: 5
        };

        for (const key in planetCols) {
            const posStr = columns[planetCols[key]];
            const speedStr = columns[speedCols[key]];

            const [signStr, ...dmsParts] = posStr.trim().split(' ');
            const sign = parseInt(signStr);
            const degree = dmsToDegrees(dmsParts.join(':'));
            const totalDegrees = sign * 30 + degree;

            planets[key] = {
                sign: sign,
                degree: degree,
                speed: dmsToDegrees(speedStr),
                isRetro: speedStr.trim().startsWith('-'),
                nakshatra: getNakshatra(totalDegrees),
                totalDegrees: totalDegrees
            };
        }
        return { date, planets };
    });
    ephemerisData = data.filter(d => !isNaN(d.date.getTime()));
}

// --- ARAYÜZ OLUŞTURMA ---

/** Tarihi "13 Ekim 2025" formatında döndürür */
function formatFullDate(date) {
    return `${date.getUTCDate()} ${AYLAR[date.getUTCMonth()]} ${date.getUTCFullYear()}`;
}

/** Tarihi "Pazartesi, 13 Ekim 2025" formatında döndürür */
function formatCardDate(date) {
    return `${GUNLER[date.getUTCDay()]}, ${formatFullDate(date)}`;
}


/** Hafta seçici dropdown menüsünü doldurur */
function populateWeekSelector() {
    const selector = document.getElementById('week-selector');
    const mondays = ephemerisData.filter(d => d.date.getUTCDay() === 1);

    mondays.forEach((mondayData, index) => {
        const startDate = mondayData.date;
        const endDate = new Date(startDate);
        endDate.setDate(startDate.getDate() + 6);

        const option = document.createElement('option');
        option.value = index;
        option.textContent = `${formatFullDate(startDate)} - ${formatFullDate(endDate)}`;
        selector.appendChild(option);
    });
}

/** Seçilen haftanın günlük gezegen verilerini sol sütunda gösterir (Bu fonksiyon artık çağrılmıyor ama silinmedi) */
function displayDailyData(weekData) {
    const container = document.getElementById('daily-data');
            container.innerHTML = ''; // Temizle

    weekData.forEach(dayData => {
        let tableRows = '';
        PLANET_KEYS.forEach(key => {
            const p = dayData.planets[key];
            tableRows += `
                <tr class="border-b border-gray-200">
                    <td class="py-2 px-3 whitespace-nowrap">${PLANET_SYMBOLS[key]} ${PLANET_NAMES[key]} ${p.isRetro ? '<span class="retrograde">(R)</span>' : ''}</td>
                    <td class="py-2 px-3">${ZODIAC_SIGNS[p.sign]}</td>
                    <td class="py-2 px-3">${p.degree.toFixed(2)}°</td>
                    <td class="py-2 px-3">${p.nakshatra}</td>
                </tr>
            `;
        });

        const cardHTML = `
            <div class="bg-white rounded-lg shadow-md p-4">
                <h3 class="text-lg font-semibold text-gray-900 mb-3">${formatCardDate(dayData.date)}</h3>
                <div class="overflow-x-auto">
                    <table class="w-full text-sm text-left text-gray-700">
                        <thead class="text-xs text-gray-500 uppercase bg-gray-50">
                            <tr>
                                <th scope="col" class="py-3 px-3">Gezegen</th>
                                <th scope="col" class="py-3 px-3">Burç</th>
                                <th scope="col" class="py-3 px-3">Derece</th>
                                <th scope="col" class="py-3 px-3">Nakşatra</th>
                            </tr>
                        </thead>
                        <tbody>
                            ${tableRows}
                        </tbody>
                    </table>
                </div>
            </div>
        `;
        container.innerHTML += cardHTML;
    });
}

// --- BÜLTEN OLUŞTURMA MANTIĞI ---

function generateBulletin(weekData) {
    const startDate = weekData[0].date;
    const endDate = weekData[6].date;
    const dateRangeStr = `${formatFullDate(startDate)} - ${formatFullDate(endDate)}`;

    let html = `
        <h1 style="font-size: 1.8rem; font-weight: bold; text-align: center; margin-bottom: 0.5rem;">Haftanın Gökyüzü Rehberi ✨</h1>
        <p style="font-size: 1.2rem; text-align: center; margin-bottom: 1.5rem; color: #4b5563;">${dateRangeStr}</p>
        <p>Bu bülten, haftanın genel enerjilerini ve her güne ait özel potansiyelleri anlamanıza destek olmak için vedik astroloji rehberliğiyle hazırlanmıştır.</p>
        <div class="notice-box notice-info">
            <strong>Önemli Not:</strong> "Haftanın Önemli Etkileşimleri" bölümünde yer alan majör etkiler, haftanın genel atmosferini belirler. "Haftanın Güncesi" ise daha anlık ve spesifik enerjileri yansıtır. Eğer bir çakışma durumu olursa, genel olarak majör etkilere öncelik vermek daha doğru bir yaklaşımdır. Ancak aciliyet gerektiren durumlarda günlük enerjilerin rehberliğinden faydalanabilirsiniz.
        </div>
    `;

    html += generateMajorInteractions(weekData);
    html += generateDailyLog(weekData);

    html += `
        <br>
        <p>Harika bir hafta geçirmeniz dileğiyle!</p>
        <br>
        <p style="font-size: 0.8rem; color: #6b7280;">
            <strong>Yasal Uyarı:</strong> Bu e-posta Venusirius Akademi tarafından yalnızca bilgilendirme amaçlı hazırlanmıştır. İçerikte yer alan bilgiler, kişisel doğum haritanızın etkilerine göre farklılık gösterebilir ve profesyonel danışmanlık yerine geçmez.
        </p>
        <p style="font-size: 0.8rem; color: #6b7280;">
            Her türlü soru, görüş ve danışmanlık talepleriniz için <a href="https://www.instagram.com/venusiriusakademi" target="_blank" style="color: #1d4ed8;">Instagram hesabımızdan</a> bize ulaşabilirsiniz.
        </p>
    `;

    document.getElementById('bulletin-content').innerHTML = html;
}

function generateMajorInteractions(weekData) {
    let interactions = [];

    // Kuralları kontrol et
    checkMoonJupiter(weekData, interactions);
    checkSadeSati(weekData, interactions);
    checkMoonSaturnConjunction(weekData, interactions);
    checkEclipses(weekData, interactions);
    checkSignChanges(weekData, interactions);
    checkMoonMarsConjunction(weekData, interactions);

    // Kronolojik sırala
    interactions.sort((a, b) => a.date - b.date);

    if (interactions.length === 0) {
        return '<h2>Haftanın Önemli Etkileşimleri</h2><p>Bu hafta öne çıkan majör bir astrolojik etkileşim bulunmamaktadır. Enerjiler daha çok günlük bazda şekillenecektir.</p>';
    }

    // Gruplama
    const groupedInteractions = interactions.reduce((acc, curr) => {
        const key = `${curr.type}_${curr.message}`;
        if (!acc[key]) {
            acc[key] = { ...curr, dates: [curr.date] };
        } else {
            acc[key].dates.push(curr.date);
        }
        return acc;
    }, {});

    let html = '<h2>Haftanın Önemli Etkileşimleri</h2>';
    Object.values(groupedInteractions).forEach(interaction => {
        const dateStr = groupDates(interaction.dates);
        html += `<div class="notice-box ${interaction.class}"><strong>${dateStr}:</strong> ${interaction.message}</div>`;
    });

    return html;
}

function groupDates(dates) {
    if (dates.length === 1) {
        return formatFullDate(dates[0]);
    }

    let grouped = [];
    let tempGroup = [dates[0]];

    for (let i = 1; i < dates.length; i++) {
        const prevDate = tempGroup[tempGroup.length - 1];
        const currDate = dates[i];
        const diffDays = (currDate - prevDate) / (1000 * 60 * 60 * 24);

        if (diffDays === 1) {
            tempGroup.push(currDate);
        } else {
            grouped.push(tempGroup);
            tempGroup = [currDate];
        }
    }
    grouped.push(tempGroup);

    return grouped.map(group => {
        if (group.length > 1) {
            return `${group[0].getUTCDate()} - ${formatFullDate(group[group.length - 1])}`;
        }
        return formatFullDate(group[0]);
    }).join(', ');
}

// ETKİLEŞİM KONTROL FONKSİYONLARI
function checkMoonJupiter(weekData, interactions) {
    weekData.forEach(day => {
        const moSign = day.planets.Mo.sign;
        const juSign = day.planets.Ju.sign;
        const oppositeSign = (juSign + 6) % 12;
        if (moSign === juSign || moSign === oppositeSign) {
            interactions.push({
                date: day.date,
                type: 'good',
                class: 'notice-success',
                message: "Ay, Jüpiter ile olumlu bir etkileşimde. Bu, bilgelik, şans ve maneviyatla ilgili konular için harika bir zaman dilimidir. Finansal konularda ve eğitimde destekleyici enerjiler hakimdir."
            });
        }
    });
}

function checkSadeSati(weekData, interactions) {
    weekData.forEach(day => {
        const moSign = day.planets.Mo.sign;
        const saSign = day.planets.Sa.sign;
        const prevSign = (saSign - 1 + 12) % 12;
        const nextSign = (saSign + 1) % 12;
        if (moSign === saSign || moSign === prevSign || moSign === nextSign) {
            interactions.push({
                date: day.date,
                type: 'sadeSati',
                class: 'notice-danger',
                message: "Ay, Satürn'ün etkisinde (Sade Sati). Bu dönemde zihinsel baskı, gecikmeler ve engellerle karşılaşılabilir. Sabırlı olmak, sorumlulukları aksatmamak ve büyük kararlardan kaçınmak önemlidir."
            });
        }
    });
}

function checkMoonSaturnConjunction(weekData, interactions) {
     weekData.forEach(day => {
        if (day.planets.Mo.sign === day.planets.Sa.sign) {
             interactions.push({
                date: day.date,
                type: 'moonSaturnConj',
                class: 'notice-danger',
                message: "<strong>Özel Uyarı:</strong> Ay ve Satürn kavuşumu aktif. Duygusal olarak karamsar ve kısıtlanmış hissedilebilir. Yeni bir şeye başlamak için kesinlikle uygun değildir."
            });
        }
    });
}

function checkEclipses(weekData, interactions) {
    weekData.forEach(day => {
        const moSign = day.planets.Mo.sign;
        const suSign = day.planets.Su.sign;
        const raSign = day.planets.Ra.sign;
        const keSign = day.planets.Ke.sign;

        if (moSign === raSign) interactions.push({ date: day.date, type: 'eclipse', class: 'notice-warning', message: "Ay, Rahu ile kavuşuyor. Korku, endişe, zihinsel karmaşa ve kararsızlık riski artabilir. Önemli kararlar için beklenmesi tavsiye edilir." });
        if (moSign === keSign) interactions.push({ date: day.date, type: 'eclipse', class: 'notice-warning', message: "Ay, Ketu ile kavuşuyor. Geçmişe takılı kalma, melankoli ve içe kapanma eğilimi görülebilir. Meditasyon ve ruhsal çalışmalar için uygundur." });
        if (suSign === raSign) interactions.push({ date: day.date, type: 'eclipse', class: 'notice-warning', message: "Güneş, Rahu ile kavuşuyor. Otorite figürleri, devlet veya baba ile ilgili konularda beklenmedik sorunlar ve yanılsamalar yaşanabilir. Ego çatışmalarına dikkat edilmelidir." });
        if (suSign === keSign) interactions.push({ date: day.date, type: 'eclipse', class: 'notice-warning', message: "Güneş, Ketu ile kavuşuyor. Özgüven eksikliği, belirsizlik ve yönsüzlük hissi artabilir. Otoriteyle ilişkilerde geri planda kalma eğilimi görülebilir." });
    });
}

function checkSignChanges(weekData, interactions) {
    const majorPlanets = ['Su', 'Ju', 'Sa', 'Ra', 'Ke', 'Ve', 'Ma'];
    for (let i = 0; i < weekData.length - 1; i++) {
        const day1 = weekData[i];
        const day2 = weekData[i + 1];
        majorPlanets.forEach(pKey => {
            if (day1.planets[pKey].sign !== day2.planets[pKey].sign) {
                const newSignName = ZODIAC_SIGNS[day2.planets[pKey].sign];
                const commentData = burcYorumlari[newSignName];
                interactions.push({
                    date: day2.date,
                    type: 'signChange',
                    class: 'notice-info',
                    message: `${PLANET_NAMES[pKey]}, ${newSignName} burcuna geçiş yapıyor. Bu geçiş, Vedik astrolojiye göre ${commentData.house}. evin temsil ettiği ${commentData.themes} konularını önümüzdeki dönemde hayatımıza taşıyacak.`
                });
            }
        });
    }
}

function checkMoonMarsConjunction(weekData, interactions){
    weekData.forEach(day => {
        if (day.planets.Mo.sign === day.planets.Ma.sign) {
            interactions.push({
                date: day.date,
                type: 'moonMars',
                class: 'notice-danger',
                message: "Ay ve Mars kavuşumu devrede. Bu etki huzursuzluk, gerginlik, acelecilik ve çatışma potansiyelini artırabilir. Ani tepkilerden ve riskli hareketlerden kaçınmakta fayda var."
            });
        }
    });
}


function generateDailyLog(weekData) {
    let html = '<h2>Haftanın Güncesi</h2>';

    weekData.forEach(dayData => {
        const date = dayData.date;
        html += `<h3>${formatCardDate(date)}</h3>`;

        const morningData = interpolatePosition(date, 6); // 09:00 IST = 06:00 GMT
        const eveningData = interpolatePosition(date, 14); // 17:00 IST = 14:00 GMT

        if (!morningData || !eveningData) {
            html += '<p>Veri yetersizliği nedeniyle yorum yapılamadı.</p>';
            return;
        }

        const morningNakshatra = morningData.Mo.nakshatra;
        const eveningNakshatra = eveningData.Mo.nakshatra;

        const isMoonMarsConj = dayData.planets.Mo.sign === dayData.planets.Ma.sign;

        if (morningNakshatra === eveningNakshatra) {
            html += formatNakshatraComment(morningNakshatra, isMoonMarsConj);
        } else {
            html += '<strong>Öğleden Önce:</strong>' + formatNakshatraComment(morningNakshatra, isMoonMarsConj);
            html += '<br><strong>Öğleden Sonra:</strong>' + formatNakshatraComment(eveningNakshatra, isMoonMarsConj);
        }
    });

    return html;
}

function formatNakshatraComment(nakshatraName, isMoonMarsConj) {
    const yorum = nakshatraYorumlari[nakshatraName];
    if (!yorum) return '<p>Yorum bulunamadı.</p>';

    let commentHtml = `
        <div class="nakshatra-comment" style="margin-top: 0.5rem;">
            <p class="supported-action">${yorum.destek}</p>
            <p class="caution-action">${yorum.dikkat}</p>
        </div>
    `;

    let specialNote = '';
    if (isMoonMarsConj) {
        const riskyActions = ['evlilik', 'iş kurma', 'ortaklık'];
        // Yorum metninde bu kelimeler geçiyor mu diye kontrol et (büyük/küçük harf duyarsız)
        const foundRisky = riskyActions.some(r =>
            yorum.destek.toLowerCase().includes(r) || yorum.dikkat.toLowerCase().includes(r)
        );
        if (foundRisky) {
            specialNote = '<p><strong class="caution-action">(Ay-Mars Notu: Bu eylemler desteklense de, Ay-Mars kavuşumunun getirebileceği gerginlik ve tartışma potansiyeli nedeniyle ekstra dikkat ve sabır gerektirebilir.)</strong></p>';
        }
    }

    return `<div>${commentHtml}${specialNote}</div>`;
}


// --- BUTON İŞLEVLERİ ---

// Panoya Kopyala fonksiyonu kaldırıldı

function downloadPDF() {
    const content = document.getElementById('bulletin-content');
    const btn = document.getElementById('pdf-btn');
    const originalText = btn.innerText;
    btn.innerText = 'Oluşturuluyor...';
    btn.disabled = true;

    html2canvas(content, {
        scale: 2, // Yüksek çözünürlük için
        useCORS: true
    }).then(canvas => {
        const imgData = canvas.toDataURL('image/png');
        const { jsPDF } = window.jspdf;
        const pdf = new jsPDF({
            orientation: 'p',
            unit: 'mm',
            format: 'a4'
        });

        const pdfWidth = pdf.internal.pageSize.getWidth();
        const pdfHeight = pdf.internal.pageSize.getHeight();
        const canvasWidth = canvas.width;
        const canvasHeight = canvas.height;
        const ratio = canvasWidth / canvasHeight;

        const imgWidth = pdfWidth - 20; // 10mm margin on each side
        const imgHeight = imgWidth / ratio;

        let heightLeft = imgHeight;
        let position = 10; // Top margin

        pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
        heightLeft -= (pdfHeight - 20);

        while (heightLeft > 0) {
            position = heightLeft - imgHeight + 10; // PDF'te kalan kısmı doğru pozisyona yerleştir
            pdf.addPage();
            pdf.addImage(imgData, 'PNG', 10, position, imgWidth, imgHeight);
            heightLeft -= (pdfHeight - 20);
        }


        pdf.save('haftalik-astroloji-bulteni.pdf');
    }).catch(err => {
        console.error("PDF oluşturma hatası:", err);
        alert("PDF oluşturulurken bir hata oluştu.");
    }).finally(() => {
        btn.innerText = originalText;
        btn.disabled = false;
    });
}


// --- UYGULAMA BAŞLANGICI ---
document.addEventListener('DOMContentLoaded', () => {
    parseEphemeri();
    if (ephemerisData.length > 0) {
        populateWeekSelector();

        const selector = document.getElementById('week-selector');
        selector.addEventListener('change', (event) => {
            const selectedWeekIndex = parseInt(event.target.value);
            const mondays = ephemerisData.filter(d => d.date.getUTCDay() === 1);
            const startDate = mondays[selectedWeekIndex].date;
            const startIndex = ephemerisData.findIndex(d => d.date.getTime() === startDate.getTime());
            const weekData = ephemerisData.slice(startIndex, startIndex + 7);

            if (weekData.length === 7) {
                // displayDailyData(weekData); // Bu satır yorumlandı veya silinebilir
                generateBulletin(weekData);
            }
        });

        // --- YENİ KOD BAŞLANGICI: Otomatik hafta seçimi ---
        // Mevcut haftanın Pazartesi gününü bul
        const mondays = ephemerisData.filter(d => d.date.getUTCDay() === 1);
        const today = new Date();
        const todayUTC = new Date(Date.UTC(today.getUTCFullYear(), today.getUTCMonth(), today.getUTCDate()));
        const dayOfWeek = todayUTC.getUTCDay(); // 0=Pazar, 1=Pazartesi, ...
        const daysToSubtract = (dayOfWeek === 0) ? 6 : (dayOfWeek - 1);

        const currentMonday = new Date(todayUTC);
        currentMonday.setUTCDate(todayUTC.getUTCDate() - daysToSubtract);
        const mondayTimestamp = currentMonday.getTime();

        // Bulunan Pazartesi'ye ait indeksi 'mondays' dizisinde ara
        let foundIndex = -1;
        for (let i = 0; i < mondays.length; i++) {
            if (mondays[i].date.getTime() === mondayTimestamp) {
                foundIndex = i;
                break;
            }
        }

        // Selector'de doğru haftayı seç
        if (foundIndex !== -1) {
            // Bugünün haftası bulundu
            selector.value = foundIndex;
        } else {
            // Bulunamadı (veri eski), son haftayı seç
            if (mondays.length > 0) {
                selector.value = mondays.length - 1; // 0-temelli indeksin sonuncusu
            }
        }
        // --- YENİ KOD SONU ---

        // Seçilen haftanın verilerini yüklemek için 'change' olayını tetikle
        selector.dispatchEvent(new Event('change'));

        // Buton event listener'ları
        // Panoya kopyala butonu event listener'ı kaldırıldı
        document.getElementById('pdf-btn').addEventListener('click', downloadPDF);

    } else {
        // Hata durumunda sadece bülten alanına mesaj yazdır
        document.getElementById('bulletin-content').innerHTML = '<p class="text-red-600">Ephemeri verileri okunamadı veya dosya boş.</p>';
    }
});

</script>
</body>
</html>

